[gd_scene load_steps=75 format=3 uid="uid://bmup4nxmqm866"]

[ext_resource type="Texture2D" uid="uid://c5qhrk0rbvm7f" path="res://character/without_sword/idle/1.png" id="1_k6e6f"]
[ext_resource type="Script" path="res://character/character.gd" id="1_vnvmx"]
[ext_resource type="Texture2D" uid="uid://40ivig0u8ovc" path="res://character/without_sword/idle/2.png" id="2_48nr0"]
[ext_resource type="Texture2D" uid="uid://clc7uarjgs5ex" path="res://character/with_sword/air_attack_1/1.png" id="2_m0u23"]
[ext_resource type="Texture2D" uid="uid://bgrlskmqfawqt" path="res://character/without_sword/fall/1.png" id="2_qdg7s"]
[ext_resource type="Texture2D" uid="uid://1ffg3hcdiuq3" path="res://character/with_sword/attack_1/1.png" id="2_sbjt8"]
[ext_resource type="Texture2D" uid="uid://maqotv3amlov" path="res://character/with_sword/attack_1/2.png" id="3_66rru"]
[ext_resource type="Texture2D" uid="uid://mvwhq46616fx" path="res://character/without_sword/idle/3.png" id="3_geq4b"]
[ext_resource type="Texture2D" uid="uid://pxt60oylisgm" path="res://character/with_sword/air_attack_1/2.png" id="3_scgpp"]
[ext_resource type="Texture2D" uid="uid://begyyj2vob7u7" path="res://character/with_sword/fall/1.png" id="3_y68r1"]
[ext_resource type="Texture2D" uid="uid://yk5xf5pgbkl6" path="res://character/with_sword/attack_1/3.png" id="4_eko8l"]
[ext_resource type="Texture2D" uid="uid://bcqnngtpnvmxj" path="res://character/with_sword/air_attack_1/3.png" id="4_gxlag"]
[ext_resource type="Texture2D" uid="uid://cxcw2oxd1w0lx" path="res://character/without_sword/idle/4.png" id="4_jxoo5"]
[ext_resource type="Texture2D" uid="uid://bwfnwqyvemeiv" path="res://character/with_sword/attack_2/1.png" id="5_6yryl"]
[ext_resource type="Texture2D" uid="uid://jel7xqu2hwl0" path="res://character/with_sword/air_attack_2/1.png" id="5_7fu21"]
[ext_resource type="Texture2D" uid="uid://dhl66lnt70nr5" path="res://character/without_sword/idle/5.png" id="5_gp6xn"]
[ext_resource type="Texture2D" uid="uid://0afb88cv0ju8" path="res://character/with_sword/attack_2/2.png" id="6_5s1ve"]
[ext_resource type="Texture2D" uid="uid://bf1ufodg0aex4" path="res://character/with_sword/air_attack_2/2.png" id="6_7orol"]
[ext_resource type="Texture2D" uid="uid://bhoqqrxqawolj" path="res://character/with_sword/attack_2/3.png" id="7_byotc"]
[ext_resource type="Texture2D" uid="uid://ocg377a6egb4" path="res://character/with_sword/air_attack_2/3.png" id="7_cgsue"]
[ext_resource type="Texture2D" uid="uid://djqk62p32h2n5" path="res://character/without_sword/jump/1.png" id="8_0ebxs"]
[ext_resource type="Texture2D" uid="uid://dqb5nrkorxwl8" path="res://character/with_sword/idle/1.png" id="8_7e7ax"]
[ext_resource type="Texture2D" uid="uid://b2r7x5dd7hf7p" path="res://character/with_sword/attack_3/1.png" id="8_wuykd"]
[ext_resource type="Texture2D" uid="uid://jdoqkjudi5mo" path="res://character/with_sword/attack_3/2.png" id="9_0bdwx"]
[ext_resource type="Texture2D" uid="uid://cela1p8dxk8rp" path="res://character/without_sword/jump/2.png" id="9_3m8x1"]
[ext_resource type="Texture2D" uid="uid://bkbcth7do5khk" path="res://character/with_sword/idle/2.png" id="9_ht5ay"]
[ext_resource type="Texture2D" uid="uid://vicpcb000l40" path="res://character/without_sword/jump/3.png" id="10_5mvgb"]
[ext_resource type="Texture2D" uid="uid://cf0rvuol7phqh" path="res://character/with_sword/attack_3/3.png" id="10_pgoe4"]
[ext_resource type="Texture2D" uid="uid://bu5h8cekqmqty" path="res://character/with_sword/idle/3.png" id="10_sgxc5"]
[ext_resource type="Texture2D" uid="uid://qgu4u5u2884g" path="res://character/with_sword/idle/4.png" id="11_2oclj"]
[ext_resource type="Texture2D" uid="uid://5si7kkq3lit2" path="res://character/without_sword/land/1.png" id="11_uqwb7"]
[ext_resource type="Texture2D" uid="uid://bpprqlf2fwgb2" path="res://character/with_sword/idle/5.png" id="12_2y3qk"]
[ext_resource type="Texture2D" uid="uid://d45id7b1fmmg" path="res://character/without_sword/land/2.png" id="12_181v7"]
[ext_resource type="Texture2D" uid="uid://4qt4ydf0hkc8" path="res://character/without_sword/run/1.png" id="13_co4sh"]
[ext_resource type="Texture2D" uid="uid://do0vwavrne170" path="res://character/without_sword/run/2.png" id="14_wcs2f"]
[ext_resource type="Texture2D" uid="uid://bbs6fkpkl4oj4" path="res://character/without_sword/run/3.png" id="15_p50yo"]
[ext_resource type="Texture2D" uid="uid://gnxihojncyyw" path="res://character/without_sword/run/4.png" id="16_bkqs8"]
[ext_resource type="Texture2D" uid="uid://c45icd6yq3ats" path="res://character/with_sword/jump/1.png" id="17_dd1sq"]
[ext_resource type="Texture2D" uid="uid://bf7y8eqoaaso3" path="res://character/without_sword/run/5.png" id="17_dh1bg"]
[ext_resource type="Texture2D" uid="uid://b6rvhtimrg82j" path="res://character/without_sword/dead_ground/1.png" id="17_n4jby"]
[ext_resource type="Texture2D" uid="uid://cc08eoahbjjrm" path="res://character/with_sword/jump/2.png" id="18_iq8aa"]
[ext_resource type="Texture2D" uid="uid://m2sh4holksa2" path="res://character/without_sword/run/6.png" id="18_l0xdc"]
[ext_resource type="Texture2D" uid="uid://q7bbas6vvbjl" path="res://character/without_sword/dead_ground/2.png" id="18_xonvo"]
[ext_resource type="Texture2D" uid="uid://cv6y2obfqepp3" path="res://character/without_sword/dead_ground/3.png" id="19_irc5i"]
[ext_resource type="Texture2D" uid="uid://ddo2hg2e7jkrw" path="res://character/with_sword/jump/3.png" id="19_irt1l"]
[ext_resource type="Script" path="res://character/character_texture.gd" id="19_o2wry"]
[ext_resource type="Texture2D" uid="uid://biyknv6pux4b8" path="res://character/without_sword/dead_ground/4.png" id="20_onq1g"]
[ext_resource type="Texture2D" uid="uid://pnao0usrc0e5" path="res://character/without_sword/dead_hit/1.png" id="21_ylqgs"]
[ext_resource type="Texture2D" uid="uid://budn0itxnwiyr" path="res://character/with_sword/land/1.png" id="22_5mwyh"]
[ext_resource type="Texture2D" uid="uid://stvmch5d5qjb" path="res://character/without_sword/dead_hit/2.png" id="22_pm8gd"]
[ext_resource type="Texture2D" uid="uid://mqiwef65xmjy" path="res://character/with_sword/land/2.png" id="23_x44kt"]
[ext_resource type="Texture2D" uid="uid://dtuks4s7nlb4n" path="res://character/without_sword/dead_hit/3.png" id="23_xslpc"]
[ext_resource type="Texture2D" uid="uid://d2irqambloxse" path="res://character/without_sword/dead_hit/4.png" id="24_j8rmb"]
[ext_resource type="Texture2D" uid="uid://dxop5i1k5jrow" path="res://character/without_sword/hit/1.png" id="27_qiclj"]
[ext_resource type="Texture2D" uid="uid://dwemjmwg70vo5" path="res://character/without_sword/hit/2.png" id="28_4wm6t"]
[ext_resource type="Texture2D" uid="uid://bsexswgptvkce" path="res://character/without_sword/hit/3.png" id="29_bs8r5"]
[ext_resource type="Texture2D" uid="uid://d2p50n5x36edu" path="res://character/without_sword/hit/4.png" id="30_chd1b"]
[ext_resource type="Texture2D" uid="uid://d1vxvnhjwpq1o" path="res://character/with_sword/run/1.png" id="30_ld6i0"]
[ext_resource type="Texture2D" uid="uid://2n6wu1qdpdw1" path="res://character/with_sword/hit/1.png" id="31_0qsj6"]
[ext_resource type="Texture2D" uid="uid://cylkfn156tgx" path="res://character/with_sword/run/2.png" id="31_o08ac"]
[ext_resource type="Texture2D" uid="uid://cucx1bfvo38wi" path="res://character/with_sword/run/3.png" id="32_enpew"]
[ext_resource type="Texture2D" uid="uid://ce2d28g307cg2" path="res://character/with_sword/hit/2.png" id="32_irwiw"]
[ext_resource type="Texture2D" uid="uid://q6vmcgpelx81" path="res://character/with_sword/hit/3.png" id="33_kk3xq"]
[ext_resource type="Texture2D" uid="uid://behjwwas348b2" path="res://character/with_sword/run/4.png" id="33_uq0u4"]
[ext_resource type="Texture2D" uid="uid://bk7jvpwlnd0sm" path="res://character/with_sword/run/5.png" id="34_oigl0"]
[ext_resource type="Texture2D" uid="uid://bg0qm0ui3sxae" path="res://character/with_sword/hit/4.png" id="34_yvm0k"]
[ext_resource type="Texture2D" uid="uid://c0iablljb7ucw" path="res://character/with_sword/run/6.png" id="35_sl0pg"]
[ext_resource type="Texture2D" uid="uid://bcfpxa8ry47xe" path="res://character/with_sword/throw_sword/1.png" id="51_xahh2"]
[ext_resource type="Texture2D" uid="uid://dmvum0lyssb06" path="res://character/with_sword/throw_sword/2.png" id="52_nmdck"]
[ext_resource type="Texture2D" uid="uid://bev0dhx6nack3" path="res://character/with_sword/throw_sword/3.png" id="53_xap4u"]
[ext_resource type="Script" path="res://character/character_attack_area.gd" id="55_1yuy7"]

[sub_resource type="SpriteFrames" id="SpriteFrames_vrvdf"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_m0u23")
}, {
"duration": 1.0,
"texture": ExtResource("3_scgpp")
}, {
"duration": 1.0,
"texture": ExtResource("4_gxlag")
}],
"loop": false,
"name": &"air_attack_1_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_7fu21")
}, {
"duration": 1.0,
"texture": ExtResource("6_7orol")
}, {
"duration": 1.0,
"texture": ExtResource("7_cgsue")
}],
"loop": false,
"name": &"air_attack_2_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_sbjt8")
}, {
"duration": 1.0,
"texture": ExtResource("3_66rru")
}, {
"duration": 1.0,
"texture": ExtResource("4_eko8l")
}],
"loop": false,
"name": &"attack_1_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_6yryl")
}, {
"duration": 1.0,
"texture": ExtResource("6_5s1ve")
}, {
"duration": 1.0,
"texture": ExtResource("7_byotc")
}],
"loop": false,
"name": &"attack_2_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_wuykd")
}, {
"duration": 1.0,
"texture": ExtResource("9_0bdwx")
}, {
"duration": 1.0,
"texture": ExtResource("10_pgoe4")
}],
"loop": false,
"name": &"attack_3_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("17_n4jby")
}, {
"duration": 1.0,
"texture": ExtResource("18_xonvo")
}, {
"duration": 1.0,
"texture": ExtResource("19_irc5i")
}, {
"duration": 1.0,
"texture": ExtResource("20_onq1g")
}],
"loop": false,
"name": &"dead_ground",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("21_ylqgs")
}, {
"duration": 1.0,
"texture": ExtResource("22_pm8gd")
}, {
"duration": 1.0,
"texture": ExtResource("23_xslpc")
}, {
"duration": 1.0,
"texture": ExtResource("24_j8rmb")
}],
"loop": false,
"name": &"dead_hit",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("2_qdg7s")
}],
"loop": true,
"name": &"fall",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_y68r1")
}],
"loop": true,
"name": &"fall_with_sword",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("27_qiclj")
}, {
"duration": 1.0,
"texture": ExtResource("28_4wm6t")
}, {
"duration": 1.0,
"texture": ExtResource("29_bs8r5")
}, {
"duration": 1.0,
"texture": ExtResource("30_chd1b")
}],
"loop": false,
"name": &"hit",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("31_0qsj6")
}, {
"duration": 1.0,
"texture": ExtResource("32_irwiw")
}, {
"duration": 1.0,
"texture": ExtResource("33_kk3xq")
}, {
"duration": 1.0,
"texture": ExtResource("34_yvm0k")
}],
"loop": false,
"name": &"hit_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("1_k6e6f")
}, {
"duration": 1.0,
"texture": ExtResource("2_48nr0")
}, {
"duration": 1.0,
"texture": ExtResource("3_geq4b")
}, {
"duration": 1.0,
"texture": ExtResource("4_jxoo5")
}, {
"duration": 1.0,
"texture": ExtResource("5_gp6xn")
}],
"loop": true,
"name": &"idle",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_7e7ax")
}, {
"duration": 1.0,
"texture": ExtResource("9_ht5ay")
}, {
"duration": 1.0,
"texture": ExtResource("10_sgxc5")
}, {
"duration": 1.0,
"texture": ExtResource("11_2oclj")
}, {
"duration": 1.0,
"texture": ExtResource("12_2y3qk")
}],
"loop": true,
"name": &"idle_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_0ebxs")
}, {
"duration": 1.0,
"texture": ExtResource("9_3m8x1")
}, {
"duration": 1.0,
"texture": ExtResource("10_5mvgb")
}],
"loop": false,
"name": &"jump",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("17_dd1sq")
}, {
"duration": 1.0,
"texture": ExtResource("18_iq8aa")
}, {
"duration": 1.0,
"texture": ExtResource("19_irt1l")
}],
"loop": false,
"name": &"jump_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("11_uqwb7")
}, {
"duration": 1.0,
"texture": ExtResource("12_181v7")
}],
"loop": false,
"name": &"land",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("22_5mwyh")
}, {
"duration": 1.0,
"texture": ExtResource("23_x44kt")
}],
"loop": false,
"name": &"land_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("13_co4sh")
}, {
"duration": 1.0,
"texture": ExtResource("14_wcs2f")
}, {
"duration": 1.0,
"texture": ExtResource("15_p50yo")
}, {
"duration": 1.0,
"texture": ExtResource("16_bkqs8")
}, {
"duration": 1.0,
"texture": ExtResource("17_dh1bg")
}, {
"duration": 1.0,
"texture": ExtResource("18_l0xdc")
}],
"loop": true,
"name": &"run",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("30_ld6i0")
}, {
"duration": 1.0,
"texture": ExtResource("31_o08ac")
}, {
"duration": 1.0,
"texture": ExtResource("32_enpew")
}, {
"duration": 1.0,
"texture": ExtResource("33_uq0u4")
}, {
"duration": 1.0,
"texture": ExtResource("34_oigl0")
}, {
"duration": 1.0,
"texture": ExtResource("35_sl0pg")
}],
"loop": true,
"name": &"run_with_sword",
"speed": 10.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("51_xahh2")
}, {
"duration": 1.0,
"texture": ExtResource("52_nmdck")
}, {
"duration": 1.0,
"texture": ExtResource("53_xap4u")
}],
"loop": false,
"name": &"throw_sword",
"speed": 10.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5uu1f"]
size = Vector2(16, 22)

[sub_resource type="CircleShape2D" id="CircleShape2D_y2unk"]
radius = 16.0

[node name="Character" type="CharacterBody2D" node_paths=PackedStringArray("_attack_combo", "_character_texture", "_knock_back_timer")]
script = ExtResource("1_vnvmx")
_speed = 100.0
_knockback_speed = 100.0
_attack_combo = NodePath("AttackCombo")
_character_texture = NodePath("Texture")
_knock_back_timer = NodePath("KnockbackTimer")

[node name="Texture" type="AnimatedSprite2D" parent="." node_paths=PackedStringArray("player", "_attack_area_collision")]
sprite_frames = SubResource("SpriteFrames_vrvdf")
animation = &"dead_ground"
script = ExtResource("19_o2wry")
player = NodePath("..")
_attack_area_collision = NodePath("../AttackArea/Collision")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(0, 1)
shape = SubResource("RectangleShape2D_5uu1f")

[node name="AttackCombo" type="Timer" parent="."]

[node name="AttackArea" type="Area2D" parent="."]
script = ExtResource("55_1yuy7")
_attack_damage = 10

[node name="Collision" type="CollisionShape2D" parent="AttackArea"]
position = Vector2(24, 0)
shape = SubResource("CircleShape2D_y2unk")
disabled = true

[node name="KnockbackTimer" type="Timer" parent="."]
wait_time = 0.4
one_shot = true

[connection signal="animation_finished" from="Texture" to="Texture" method="_on_animation_finished"]
[connection signal="frame_changed" from="Texture" to="Texture" method="_on_frame_changed"]
[connection signal="timeout" from="AttackCombo" to="." method="_on_attack_combo_timeout"]
[connection signal="body_entered" from="AttackArea" to="AttackArea" method="_on_body_entered"]
[connection signal="timeout" from="KnockbackTimer" to="." method="_on_knockback_timer_timeout"]
